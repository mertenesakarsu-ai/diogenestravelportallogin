{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///Users/enesakarsu/Desktop/Enes-AKARSU-IT/diogenestravelpanel/diogenestravelportal/diogenestravelportallogin/lib/db/sql.ts"],"sourcesContent":["import sql from 'mssql'\n\nlet pool: sql.ConnectionPool | null = null\n\nexport async function getSqlClient() {\n  if (pool) return pool\n\n  const conn = process.env.SQLSERVER_CONNECTION\n  if (!conn) {\n    throw new Error('SQLSERVER_CONNECTION env variable missing')\n  }\n\n  pool = await sql.connect(conn)\n  return pool\n}\n\nexport async function closeSqlClient() {\n  if (pool) {\n    await pool.close()\n    pool = null\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,IAAI,OAAkC;AAE/B,eAAe;IACpB,IAAI,MAAM,OAAO;IAEjB,MAAM,OAAO,QAAQ,GAAG,CAAC,oBAAoB;IAC7C,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,MAAM,2IAAG,CAAC,OAAO,CAAC;IACzB,OAAO;AACT;AAEO,eAAe;IACpB,IAAI,MAAM;QACR,MAAM,KAAK,KAAK;QAChB,OAAO;IACT;AACF"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/enesakarsu/Desktop/Enes-AKARSU-IT/diogenestravelpanel/diogenestravelportal/diogenestravelportallogin/app/api/test-sql/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { getSqlClient } from '@/lib/db/sql'\n\nexport const dynamic = 'force-dynamic'\n\nexport async function GET() {\n  try {\n    const pool = await getSqlClient()\n    const result = await pool.request().query('SELECT GETDATE() AS serverTime')\n    return NextResponse.json({ ok: true, time: result.recordset[0].serverTime })\n  } catch (err: any) {\n    return NextResponse.json(\n      {\n        ok: false,\n        error: err?.message || 'Unknown SQL error',\n      },\n      { status: 500 }\n    )\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM,IAAA,kIAAY;QAC/B,MAAM,SAAS,MAAM,KAAK,OAAO,GAAG,KAAK,CAAC;QAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM,MAAM,OAAO,SAAS,CAAC,EAAE,CAAC,UAAU;QAAC;IAC5E,EAAE,OAAO,KAAU;QACjB,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,IAAI;YACJ,OAAO,KAAK,WAAW;QACzB,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}