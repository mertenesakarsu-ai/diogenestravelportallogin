{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/enesakarsu/Desktop/Enes-AKARSU-IT/diogenestravelpanel/diogenestravelportal/diogenestravelportallogin/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport Image from \"next/image\"\nimport { Eye, EyeOff, AlertCircle } from \"lucide-react\"\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [showPassword, setShowPassword] = useState(false)\n  const [rememberMe, setRememberMe] = useState(false)\n  const [errors, setErrors] = useState({ email: \"\", password: \"\" })\n  const [emailFocused, setEmailFocused] = useState(false)\n  const [passwordFocused, setPasswordFocused] = useState(false)\n\n  const validateForm = () => {\n    const newErrors = { email: \"\", password: \"\" }\n\n    if (!email.trim()) {\n      newErrors.email = \"Email boş olamaz\"\n    } else if (!email.includes(\"@\")) {\n      newErrors.email = \"Geçerli bir email girin\"\n    }\n\n    if (!password) {\n      newErrors.password = \"Şifre boş olamaz\"\n    } else if (password.length < 3) {\n      newErrors.password = \"Şifre en az 3 karakter olmalı\"\n    }\n\n    setErrors(newErrors)\n    return !newErrors.email && !newErrors.password\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!validateForm()) {\n      return\n    }\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n      })\n\n      if (!response.ok) {\n        let message = \"Email veya şifre yanlış\"\n        try {\n          const ct = response.headers.get(\"content-type\") || \"\"\n          if (ct.includes(\"application/json\")) {\n            const data = await response.json()\n            message = data?.error || message\n          } else {\n            const text = await response.text()\n            if (text) message = text\n          }\n        } catch (e) {\n          console.error(\"Non-JSON error response:\", e)\n        }\n        setErrors({ ...errors, password: message })\n        return\n      }\n\n      let data: any = null\n      try {\n        const ct = response.headers.get(\"content-type\") || \"\"\n        if (ct.includes(\"application/json\")) {\n          data = await response.json()\n        } else {\n          const text = await response.text()\n          console.error(\"Non-JSON success response:\", text)\n        }\n      } catch (e) {\n        console.error(\"Response parse error:\", e)\n      }\n      if (!data) {\n        setErrors({ ...errors, password: \"Sunucudan beklenmeyen yanıt alındı\" })\n        return\n      }\n\n      // Store auth data\n      localStorage.setItem(\"auth_token\", data.token)\n      localStorage.setItem(\"user\", JSON.stringify(data.user))\n      if (rememberMe) {\n        localStorage.setItem(\"rememberMe\", \"true\")\n      }\n\n      // Role-based redirect\n      const { role, department } = data.user\n      if (role === \"admin\") {\n        window.location.href = \"/admin/dashboard\"\n      } else if (department === \"travel_agent\") {\n        window.location.href = \"/dashboard\"\n      } else {\n        window.location.href = `/dashboard/${department}`\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error)\n      setErrors({ ...errors, password: \"Giriş işlemi başarısız oldu\" })\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n            \n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-slate-200/50 p-8\">\n          {/* Logo with colored circle */}\n          <div className=\"flex flex-col items-center mb-6\">\n            <div className=\"relative w-28 h-28 mb-3\">\n              <div className=\"absolute inset-0 rounded-full bg-gradient-to-br from-blue-500 via-orange-500 to-green-500 shadow-md\"></div>\n              <div className=\"absolute inset-[3px] rounded-full bg-white flex items-center justify-center\">\n                <Image\n                  src=\"/images/logo.png\"\n                  alt=\"Diogenes Logo\"\n                  width={96}\n                  height={96}\n                  className=\"w-24 h-24 object-contain\"\n                />\n              </div>\n            </div>\n\n            <h1 className=\"text-3xl font-bold text-slate-900 text-center mb-0.5\">Diogenes Travel Portal</h1>\n            <p className=\"text-slate-500 text-center text-sm\">Seyahat Yönetim Sistemi</p>\n          </div>\n\n          {/* Login Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            {/* Email Field */}\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                Email / Kullanıcı Adı\n              </label>\n              <div\n                className={`relative rounded-lg transition-all duration-300 ${emailFocused ? \"p-[2px] bg-gradient-to-r from-blue-500 via-orange-500 to-green-500 shadow-[0_0_15px_rgba(59,130,246,0.5),0_0_15px_rgba(249,115,22,0.3),0_0_15px_rgba(34,197,94,0.3)]\" : \"p-0\"}`}\n              >\n                <div className=\"relative\">\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    onFocus={() => setEmailFocused(true)}\n                    onBlur={() => setEmailFocused(false)}\n                    placeholder=\"ornek@diogenestravel.com\"\n                    className={`w-full px-4 py-3 rounded-lg border-2 transition-colors outline-none ${\n                      errors.email\n                        ? \"border-red-500 bg-red-50\"\n                        : emailFocused\n                          ? \"border-transparent bg-white\"\n                          : \"border-slate-300 bg-white\"\n                    }`}\n                  />\n                  {errors.email && <AlertCircle className=\"absolute right-3 top-3.5 w-5 h-5 text-red-500\" />}\n                </div>\n              </div>\n              {errors.email && <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>}\n            </div>\n\n            {/* Password Field */}\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                Şifre\n              </label>\n              <div\n                className={`relative rounded-lg transition-all duration-300 ${passwordFocused ? \"p-[2px] bg-gradient-to-r from-blue-500 via-orange-500 to-green-500 shadow-[0_0_15px_rgba(59,130,246,0.5),0_0_15px_rgba(249,115,22,0.3),0_0_15px_rgba(34,197,94,0.3)]\" : \"p-0\"}`}\n              >\n                <div className=\"relative\">\n                  <input\n                    id=\"password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    onFocus={() => setPasswordFocused(true)}\n                    onBlur={() => setPasswordFocused(false)}\n                    placeholder=\"••••••••\"\n                    className={`w-full px-4 py-3 rounded-lg border-2 transition-colors outline-none ${\n                      errors.password\n                        ? \"border-red-500 bg-red-50\"\n                        : passwordFocused\n                          ? \"border-transparent bg-white\"\n                          : \"border-slate-300 bg-white\"\n                    }`}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-3 top-3.5 text-slate-500 hover:text-slate-700\"\n                  >\n                    {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n                  </button>\n                </div>\n              </div>\n              {errors.password && <p className=\"text-red-500 text-sm mt-1\">{errors.password}</p>}\n            </div>\n\n            <div className=\"flex items-center\">\n              <input\n                id=\"rememberMe\"\n                type=\"checkbox\"\n                checked={rememberMe}\n                onChange={(e) => setRememberMe(e.target.checked)}\n                className=\"w-4 h-4 accent-orange-500 border-slate-300 rounded focus:ring-orange-500\"\n              />\n              <label htmlFor=\"rememberMe\" className=\"ml-2 text-sm text-slate-600\">\n                Beni hatırla\n              </label>\n            </div>\n\n            <div className=\"relative rounded-xl transition-all duration-300 p-[2px] bg-transparent hover:bg-gradient-to-r hover:from-blue-500 hover:via-orange-500 hover:to-green-500 hover:shadow-[0_0_15px_rgba(59,130,246,0.5),0_0_15px_rgba(249,115,22,0.3),0_0_15px_rgba(34,197,94,0.3)] group\">\n              <button\n                type=\"submit\"\n                className=\"w-full py-4 bg-black text-white font-bold text-lg rounded-xl transition-all duration-300 active:scale-95 flex items-center justify-center gap-2\"\n              >\n                Giriş Yap\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Footer */}\n        <p className=\"text-center text-slate-500 text-sm mt-6\">© 2025 Diogenes Travel. Tüm hakları saklıdır.</p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}